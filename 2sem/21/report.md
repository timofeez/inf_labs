# Отчет по лабораторной работе № 21
## по курсу "Фундаментальная информатика"

Студент группы М8О-108Б-23 Григорьев Тимофей Андреевич

Работа выполнена 

Преподаватель: каф. 806 Севастьянов Виктор Сергеевич

1. **Тема**: программирование на интерпретируемых командных языках
2. **Цель работы**: составить программу выполнения заданных действий над файлами на Bash
3. **Задание (вариант №5)**: реализовать шелловскую версию команды split на Bash
4. **Идея, метод, алгоритм решения задачи**:
- Для выполнения задания была использована функция разделения строки на элементы массива с помощью встроенной команды read и оператора `<<<`.
- Вводимая строка с помощью `<<<` передается в функцию, которая разбивает строку на массив по указанному разделителю (аргументу).
- В случае, если в качестве первого аргумента передан путь к файлу, содержимое файла считывается, и над ним выполняется разделение.
-Полученный массив можно использовать для итерации по его элементам или для выполнения других операций над данными.
5. **Сценарий выполнения работы**:
- Создание функции `split`, которая принимает в качестве аргументов строку и разделитель.
- В функции используется оператор `<<<` для передачи строки ввода в команду `read`, которая разбивает строку на массив по указанному разделителю.
- Если первый аргумент - это путь к файлу, считывается содержимое файла, и над ним выполняется разделение.
- Реализация итерации по полученному массиву для проверки корректности разделения.
- Проведение тестов для различных входных данных, включая различные разделители и строки.

| Входные данные | Выходные данные | Описание тестируемого случая                    |
|----------------|-----------------|-------------------------------------------------|
| "hello world" " "          | "hello" "world"               | Разделение строки "hello world"            |
| "one:two:three" ":"          | "one" "two" "three"             | Разделение строки "one:two:three" по двоеточию |
| file.txt " "         | содержимое файла file.txt           | Разделение содержимого файла по пробелам        |

6. **Протокол**:
```bash
#!/bin/bash

string=$1
delimiter=$2
array=()

# Если первый аргумент - это файл, считываем его содержимое
if [[ -f $string ]]; then
    string=$(<"$string")
fi

# Заменяем все вхождения разделителя на символ новой строки
string=$(echo "$string" | sed "s/$delimiter/\n/g")

# Читаем строку в массив
while read -r line; do
    array+=("$line")
done <<< "$string"

# Выводим элементы массива
echo "${array[@]}"


```
Прмеры использования
```bash
# Пример использования функции split
result=$(split "hello world" " ")
echo "$result" # Выведет "hello world"

# Пример использования с файлом
result=$(split "file.txt" " ")
echo "$result" # Выведет содержимое файла file.txt
```
7. **Замечания автора** нет
8. **Выводы**: В ходе выполнения лабораторной работы я получил опыт работы с массивами и функциями в среде командной оболочки Bash. Это позволило мне лучше понять принципы работы интерпретируемых языков программирования и их возможности. Помимо этого, я узнал о специфичных особенностях работы с потоками ввода-вывода в Bash, таких как использование оператора <<< для передачи строк ввода в команды. Реализация возможности работы с файлами позволяет программе работать с внешними данными и делает ее более гибкой. Полученные знания пригодятся мне в будущем при разработке скриптов и автоматизации рутинных задач в среде Linux.